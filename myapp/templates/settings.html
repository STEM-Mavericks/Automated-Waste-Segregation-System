{% extends 'base.html' %}

{% block title %}Settings{% endblock %}

{% block content %}
<section class="settings">
    <div class="settings-container">
        <h2>Account Settings</h2>
        
        <!-- User Profile Information -->
        <form action="{{ url_for('update_profile') }}" method="post">
            <fieldset>
                <legend>Profile Information</legend>
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" value="{{ user.username }}" required>
                
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="{{ user.email }}" required>
                
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" placeholder="New Password">
                
                <button type="submit" class="btn">Update Profile</button>
            </fieldset>
        </form>

        <!-- Notification Preferences -->
        <form action="{{ url_for('update_notifications') }}" method="post">
            <fieldset>
                <legend>Notification Preferences</legend>
                <label for="email_notifications">Email Notifications:</label>
                <input type="checkbox" id="email_notifications" name="email_notifications" {% if user.email_notifications %}checked{% endif %}>
                <label for="email_notifications">Receive email notifications</label>
                
                <button type="submit" class="btn">Save Preferences</button>
            </fieldset>
        </form>

        <!-- Application Settings -->
        <form action="{{ url_for('update_settings') }}" method="post">
            <fieldset>
                <legend>Application Settings</legend>
                <label for="theme">Theme:</label>
                <select id="theme" name="theme">
                    <option value="light" {% if user.theme == 'light' %}selected{% endif %}>Light</option>
                    <option value="dark" {% if user.theme == 'dark' %}selected{% endif %}>Dark</option>
                </select>
                
                <label for="language">Language:</label>
                <select id="language" name="language">
                    <option value="en" {% if user.language == 'en' %}selected{% endif %}>English</option>
                    <option value="es" {% if user.language == 'es' %}selected{% endif %}>Spanish</option>
                </select>
                
                <button type="submit" class="btn">Save Settings</button>
            </fieldset>
        </form>

        <!-- Privacy and Security -->
        <form action="{{ url_for('update_security') }}" method="post">
            <fieldset>
                <legend>Privacy and Security</legend>
                <label for="two_factor_auth">Two-Factor Authentication:</label>
                <input type="checkbox" id="two_factor_auth" name="two_factor_auth" {% if user.two_factor_auth %}checked{% endif %}>
                <label for="two_factor_auth">Enable Two-Factor Authentication</label>
                
                <button type="submit" class="btn">Save Security Settings</button>
            </fieldset>
        </form>

        <!-- Account Management -->
        <form action="{{ url_for('delete_account') }}" method="post" onsubmit="return confirm('Are you sure you want to delete your account? This action cannot be undone.');">
            <fieldset>
                <legend>Account Management</legend>
                <button type="submit" class="btn btn-danger">Delete Account</button>
            </fieldset>
        </form>
    </div>
</section>
{% endblock %}
